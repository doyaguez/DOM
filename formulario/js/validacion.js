var email=document.forms.form.email,contra=document.forms.form.contra,confirmacion=document.forms.form.confirmacion,email2=document.forms.form2.email2,contra2=document.forms.form2.contra2;function crearCookie(e,o,t){if(t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var n="expires="+a.toUTCString()}else n="";document.cookie=e+"="+o+";"+n+";path=/"}function obtenerCookie(e){for(var o=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var n=t[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return""}function comprobarCookie(e,o){var t=obtenerCookie(e);return""!=t&&o==t}email.addEventListener("keyup",function(e){/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email.value)?email.setCustomValidity(""):email.setCustomValidity("Formato invalido de correo")}),contra.addEventListener("keyup",function(e){/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/.test(contra.value)?contra.setCustomValidity(""):contra.setCustomValidity("La contraseña debe contener al menos una minuscula, una mayuscula, un numero y un caracter especial")}),confirmacion.addEventListener("keyup",function(e){contra.value!=confirmacion.value?confirmacion.setCustomValidity("Contraseña distina"):confirmacion.setCustomValidity("")}),$(".formReg").on("submit",function(e){e.preventDefault(),email=email.value,contra=sha256(contra.value),crearCookie(email,contra),$(this).unbind("submit").submit(),alert("Te has registrado correctamente")}),$(".form2").on("submit",function(e){e.preventDefault(),email2=email2.value,contra2=sha256(contra2.value),comprobarCookie(email2,contra2)?(alert("Sesion iniciada, bienvenido "+email2),crearCookie("sesion",email2),$(this).unbind("submit").submit()):(alert("Correo no registrado, pruebe de nuevo"),$(this).unbind("submit").submit())});
